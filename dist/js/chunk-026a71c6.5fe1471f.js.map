{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/views/Book.vue?29c6","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/views/Book.vue?ee5f","webpack:///./src/components/AddSubtractButton.vue?61b9","webpack:///src/components/AddSubtractButton.vue","webpack:///./src/components/AddSubtractButton.vue?7fdd","webpack:///./src/components/AddSubtractButton.vue","webpack:///./src/components/BookTabComponent.vue?ce4a","webpack:///./src/components/BookIntroduction.vue?b6c7","webpack:///src/components/BookIntroduction.vue","webpack:///./src/components/BookIntroduction.vue?df7e","webpack:///./src/components/BookIntroduction.vue","webpack:///src/components/BookTabComponent.vue","webpack:///./src/components/BookTabComponent.vue?0226","webpack:///./src/components/BookTabComponent.vue","webpack:///src/views/Book.vue","webpack:///./src/views/Book.vue?1f70","webpack:///./src/views/Book.vue","webpack:///./src/components/BookTabComponent.vue?b8fe"],"names":["flags","f","RegExp","prototype","configurable","get","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","this","concat","undefined","name","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","book","bigImgUrl","_v","_s","title","slogan","author","bookConcern","publishDate","_f","price","discount","key","id","on","handleUpdate","$event","addCart","detail","staticRenderFns","directives","rawName","value","expression","domProps","target","composing","quantity","preventDefault","handleadd","apply","arguments","handlesub","data","methods","computed","keyid","component","_l","tab","class","active","currentTab","displayName","currentTabComponent","tag","content","props","type","default","tabs","components","BookIntroduction","AddSubtractButton","BookTabComponent","created","then","catch","val","factPrice","mapActions","filters","formatDiscount","beforeRouteUpdate","to","from","next"],"mappings":"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","file":"js/chunk-026a71c6.5fe1471f.js","sourcesContent":["// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=style&index=0&id=8d9ef4ca&scoped=true&lang=css&\"","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book\"},[_c('img',{attrs:{\"src\":_vm.book.bigImgUrl}}),_c('div',[_c('div',{staticClass:\"bookInfo\"},[_c('h3',[_vm._v(_vm._s(_vm.book.title))]),_c('p',[_vm._v(_vm._s(_vm.book.slogan))]),_c('p',[_c('span',[_vm._v(\"作者：\"+_vm._s(_vm.book.author))]),_c('span',[_vm._v(\"出版社：\"+_vm._s(_vm.book.bookConcern))]),_c('span',[_vm._v(\"出版日期：\"+_vm._s(_vm.book.publishDate))])]),_c('p',[_c('span',{staticClass:\"factPrice\"},[_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"currency\")(_vm._f(\"factPrice\")(_vm.book.price,_vm.book.discount)))+\"\\n              \")]),_c('span',{staticClass:\"discount\"},[_vm._v(_vm._s(_vm._f(\"formatDiscount\")(_vm.book.discount)))]),_c('span',[_vm._v(\"[定价 \"),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.book.price)))]),_vm._v(\"]\")])])]),_c('div',{staticClass:\"addCart\"},[_c('AddSubtractButton',{key:_vm.book.id,on:{\"updateQuantity\":_vm.handleUpdate}}),_c('button',{staticClass:\"addCartButton\",on:{\"click\":function($event){return _vm.addCart(_vm.book)}}},[_vm._v(\"加入购物车\")])],1)]),_c('BookTabComponent',{attrs:{\"content\":_vm.book.detail}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addSubtractButton\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.quantity),expression:\"quantity\"}],attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.quantity=$event.target.value}}}),_c('div',[_c('button',{on:{\"click\":function($event){$event.preventDefault();return _vm.handleadd.apply(null, arguments)}}},[_vm._v(\"+\")]),_c('button',{attrs:{\"disabled\":_vm.quantity==0},on:{\"click\":function($event){$event.preventDefault();return _vm.handlesub.apply(null, arguments)}}},[_vm._v(\"-\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"addSubtractButton\">\r\n    \r\n    <input type=\"number\" v-model=\"quantity\" min=\"0\" >\r\n   \r\n    <div>\r\n        <button @click.prevent=\"handleadd\" >+</button>\r\n        <button @click.prevent=\"handlesub\" :disabled=\"quantity==0\">-</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'AddSubtractButton',\r\n    data(){\r\n        return{\r\n            quantity:0,\r\n        }\r\n    },\r\n    methods:{\r\n        handleadd:function(){\r\n            this.quantity++;\r\n            this.$emit('updateQuantity',this.quantity);\r\n        },\r\n        handlesub:function(){\r\n            \r\n            this.quantity--;\r\n            this.$emit('updateQuantity',this.quantity);\r\n        }\r\n    },\r\n    computed:{\r\n        keyid:function(){\r\n            return this.$route.fullPath\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.addSubtractButton input{\r\n  height: 30px;\r\n  width: 30px;\r\n  float: left;\r\n  text-align: center;\r\n} \r\n.addSubtractButton div{\r\n  width: 15px;\r\n  height: 30px;\r\n  float: left;\r\n  margin: 0;\r\n  padding: 0;\r\n  \r\n}\r\n.addSubtractButton a{\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  height: 16px;\r\n  width: 16px;\r\n  background-color: #ccc;\r\n  text-decoration: none;\r\n  border: solid 1px gray;\r\n  display: inline-block;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n} \r\n.addSubtractButton a.add{\r\n  margin-top: -1px;\r\n  color: black;\r\n}\r\n.addSubtractButton a.sub{\r\n  margin-top: -3px;\r\n  border-top: none;\r\n}\r\ninput::-webkit-outer-spin-button, input::-webkit-inner-spin-button {\r\n  -webkit-appearance: none !important;\r\n  margin: 0;\r\n}\r\n.disabled { \r\n  pointer-events: none; \r\n  color: gray; \r\n  cursor: default;\r\n}\r\n.actived{\r\n  color: black;\r\n}","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSubtractButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSubtractButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddSubtractButton.vue?vue&type=template&id=a518e318&scoped=true&\"\nimport script from \"./AddSubtractButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AddSubtractButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a518e318\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabComponent\"},[_vm._l((_vm.tabs),function(tab){return _c('button',{key:tab.title,class:['tab-button',{active:_vm.currentTab == tab.title}],on:{\"click\":function($event){_vm.currentTab = tab.title}}},[_vm._v(\"\\n  \"+_vm._s(tab.displayName))])}),_c('keep-alive',[_c(_vm.currentTabComponent,{tag:\"component\",staticClass:\"tab\",attrs:{\"content\":_vm.content}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(_vm._s(_vm.content))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>{{content}}</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'BookIntroduction',\r\n    props:{\r\n        content:{\r\n        type:String,\r\n        default:'',\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookIntroduction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookIntroduction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookIntroduction.vue?vue&type=template&id=ead3d6f0&\"\nimport script from \"./BookIntroduction.vue?vue&type=script&lang=js&\"\nexport * from \"./BookIntroduction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"tabComponent\">\r\n    <button v-for=\"tab in tabs\" :key=\"tab.title\"\r\n    @click=\"currentTab = tab.title\" \r\n    :class=\"['tab-button',{active:currentTab == tab.title}]\">\r\n    {{tab.displayName}}</button>\r\n    <keep-alive>\r\n    <component  class=\"tab\" :is=\"currentTabComponent\" :content = 'content'></component>\r\n    </keep-alive>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BookIntroduction from './BookIntroduction.vue'\r\nexport default {\r\n    name:'BookTabComponent',\r\n    props:{\r\n        content:{\r\n            type:String,\r\n            default:''\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            currentTab:'introduction',\r\n            tabs:[\r\n                {title:'introduction',displayName:'图书介绍'},\r\n                {title:'comment',displayName:'图书评价'},\r\n                {title:'qa',displayName:'图书问答'}\r\n                ],\r\n        }\r\n    },\r\n    components:{\r\n        BookIntroduction,\r\n        'BookComment':()=>import('./BookCommentList.vue'),\r\n        'BookQa':()=>import('./BookQa.vue'),\r\n    },\r\n    computed:{\r\n        currentTabComponent(){\r\n            return 'book-'+this.currentTab;\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.tabComponent{\r\n  float: left;\r\n  width: 100%;\r\n  text-align: left;\r\n  margin-left: 80px;\r\n}\r\n.tab-button {\r\n  padding: 6px 10px;\r\n  border-top-left-radius: 3px;\r\n  border-top-right-radius: 3px;\r\n  border: solid 1px #ccc;\r\n  cursor: pointer;\r\n  background: #f0f0f0;\r\n  margin-bottom: -1px;\r\n  margin-right: -1px;\r\n}\r\n.tab-button:hover {\r\n  background: #e0e0e0;\r\n}\r\n.tab-button.active {\r\n  background: #cdcdcd;\r\n}\r\n.tab {\r\n  border: solid 1px #ccc;\r\n  padding: 10px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTabComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTabComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookTabComponent.vue?vue&type=template&id=5891b992&scoped=true&\"\nimport script from \"./BookTabComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./BookTabComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookTabComponent.vue?vue&type=style&index=0&id=5891b992&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5891b992\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"book\">\r\n    <img :src=\"book.bigImgUrl\"/>\r\n    <div>\r\n        <div class=\"bookInfo\">\r\n            <h3>{{book.title}}</h3>\r\n            <p>{{book.slogan}}</p>\r\n            <p>\r\n                <span>作者：{{book.author}}</span>\r\n                <span>出版社：{{book.bookConcern}}</span>\r\n                <span>出版日期：{{book.publishDate}}</span>\r\n            </p>\r\n            <p>\r\n                <span class=\"factPrice\">\r\n                    {{book.price | factPrice(book.discount) | currency }}\r\n                </span>\r\n                <span class=\"discount\">{{book.discount | formatDiscount}}</span>\r\n                <span>[定价 <span class=\"price\">{{book.price | currency}}</span>]</span>\r\n            </p>\r\n        </div>\r\n        <div class=\"addCart\">\r\n            <AddSubtractButton @updateQuantity=\"handleUpdate\" :key=\"book.id\" />\r\n            <button @click=\"addCart(book)\" class=\"addCartButton\">加入购物车</button>\r\n        </div>\r\n    </div>\r\n    <BookTabComponent :content=\"book.detail\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddSubtractButton from '../components/AddSubtractButton.vue';\r\nimport BookTabComponent from '../components/BookTabComponent.vue';\r\nimport { mapActions } from 'vuex';\r\n\r\nexport default {\r\n    name:'Book',\r\n    data(){\r\n        return{\r\n        quantity:0,\r\n        book:{},\r\n        }\r\n    },\r\n    components: { AddSubtractButton, BookTabComponent },\r\n    created(){\r\n        this.axios.get(this.$route.fullPath)\r\n            .then(response=>{\r\n                if(response.status==200){\r\n                    this.book = response.data;\r\n                }\r\n            })\r\n            .catch(error=>alert(error));\r\n    },\r\n    methods:{\r\n        //监听子组件AddSubtractButton的自定义事件，传入它的quantity参数\r\n        handleUpdate(val){\r\n            this.quantity = val;\r\n        },\r\n        factPrice(price,discount){\r\n            return price*discount\r\n        },\r\n        addCart(book){//添加到购物车方法\r\n            let quantity =this.quantity;\r\n            if(quantity==0){\r\n                quantity =1;\r\n            }\r\n            //使用actions向vue的cart.state中添加数据\r\n            this.addProductToCart({...book,'factPrice':this.factPrice(book.price,book.discount),quantity});\r\n            this.$router.push('/cart');\r\n        },\r\n        ...mapActions('cart',['addProductToCart']),\r\n    },\r\n    filters:{\r\n        //折扣的格式转化：0.95 => 95折\r\n        formatDiscount:function(val){\r\n            if(val){\r\n                let newval = val.toString().slice(2)+'折';\r\n                return newval\r\n            }else{\r\n                return val\r\n            } \r\n        }\r\n    },\r\n    //组件复用切换数据，在input框中加上key属性，不然会导致不重新渲染\r\n    beforeRouteUpdate(to,from,next){\r\n        this.axios.get(to.fullPath)\r\n            .then(response=>{\r\n                this.book = response.data;\r\n            });\r\n        next();\r\n    },\r\n   \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.book {\r\n  width: 1100px;\r\n  margin-top: 60px;\r\n  text-align: left;\r\n}\r\n.book img {\r\n  margin-left: 50px;\r\n  float: left;\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\n.book .bookInfo {\r\n  margin-left: 20px;\r\n  float: left;\r\n  width: 800px;\r\n  background-color: #eee;\r\n  padding-left: 20px;\r\n  padding-top: 5px;\r\n}\r\n.book .addCart {\r\n  margin-left: 300px;\r\n  float: left;\r\n  margin-top: 10px;\r\n}\r\n.book .addCartButton{\r\n\tpadding: 5px 10px 6px;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tborder-bottom: solid 1px #222;\r\n\tborder-radius: 5px;\r\n\tbox-shadow: 0 1px 3px #999;\r\n\ttext-shadow: 0 -1px 3px #444;\r\n\tcursor: pointer;\r\n  background-color: #e33100;\r\n  display: block;\r\n  margin-left: 80px;\r\n}\r\n.addCartButton:hover {\r\n  text-shadow: 0 1px 1px #444;\r\n}\r\n.book span{\r\n  padding-right: 15px;\r\n}\r\n.book .price {\r\n  color: gray;\r\n  text-decoration: line-through;\r\n}\r\n.book .discount{\r\n  color: red;\r\n}\r\n.book .factPrice{\r\n  color: red;\r\n  font-weight: bold;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Book.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Book.vue?vue&type=template&id=8d9ef4ca&scoped=true&\"\nimport script from \"./Book.vue?vue&type=script&lang=js&\"\nexport * from \"./Book.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Book.vue?vue&type=style&index=0&id=8d9ef4ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d9ef4ca\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookTabComponent.vue?vue&type=style&index=0&id=5891b992&scoped=true&lang=css&\""],"sourceRoot":""}