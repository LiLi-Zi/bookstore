(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c207eaf"],{8311:function(e,t,r){"use strict";r("ed66")},c77a:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("form",[r("div",{staticClass:"lable"},[r("label",{staticClass:"error"},[e._v(e._s(e.message))]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{name:"username",type:"text",placeholder:"请输入用户名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{name:"password",type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password2,expression:"password2",modifiers:{trim:!0}}],attrs:{name:"password2",type:"password",placeholder:"请输入确认密码"},domProps:{value:e.password2},on:{input:function(t){t.target.composing||(e.password2=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.mobile,expression:"mobile",modifiers:{trim:!0}}],attrs:{name:"tel",type:"tel",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"submit"},[r("input",{attrs:{type:"submit",value:"注册"},on:{click:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}})])])])},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),n=r("2f62");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"UserRegister",data:function(){return{username:"",password:"",password2:"",mobile:"",message:""}},methods:c(c({},Object(n["d"])("user",["saveUser"])),{},{register:function(){var e=this;this.message="",this.checkForm()&&this.axios.post("/user/register",{username:this.username,password:this.password,mobile:this.mobile}).then((function(t){200==t.data.code?(e.saveUser(t.data.data),e.username="",e.password="",e.password2="",e.mobile="",e.$router.push("/")):500==t.data.code&&(e.message="用户注册失败")})).catch((function(e){return alert(e.message)}))},checkForm:function(){return this.username&&this.password&&this.password2&&this.mobile?this.password==this.password2||(this.$msgBox.show({title:"密码和确认密码必须相同"}),!1):(this.$msgBox.show({title:"所有输入字段不能为空"}),!1)},cancelRequest:function(){"function"==typeof this.cancel&&this.cancel("终止请求")}}),watch:{username:function(e){var t=this;e&&this.cancelRequest(),this.axios.get("/user/"+e,{cancelToken:new this.axios.CancelToken((function(e){return t.cancel=e}))}).then((function(e){if(200==e.data.code){var r=e.data.data;t.message=r?"该用户已存在":""}})).catch((function(e){t.axios.isCancel(e)?console.log("请求取消",e.message):console.log(e)}))}}},l=u,m=(r("8311"),r("2877")),p=Object(m["a"])(l,s,a,!1,null,"f586e31e",null);t["default"]=p.exports},ed66:function(e,t,r){}}]);
//# sourceMappingURL=chunk-6c207eaf.cb45dfc6.js.map